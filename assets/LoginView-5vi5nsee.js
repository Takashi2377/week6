import{a as u}from"./axios-L6U4YIEh.js";import{_ as m,e as p,u as _,c as f,b as h,w as g,a as o,f as w,g as i,v as l,F as v,r as x,o as b,d as V}from"./index-GL_fWviK.js";var k={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"yuetin-hexschool",BASE_URL:"/week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:E}=k,R={setup(){const n=p({username:"",password:""}),s=_();return{user:n,login:()=>{u.post(`${E}/v2/admin/signin`,n.value).then(e=>{const{token:a,expired:r}=e.data;document.cookie=`hexToken=${a};expires=${new Date(r)}; path=/`,s.push("/admin/products")}).catch(e=>{alert(e.response.data.message)})}}}},T=o("h2",null,"登入頁面",-1),y={class:"container"},L={class:"row justify-content-center"},P=o("h1",{class:"h3 mb-3 font-weight-normal"}," 請先登入 ",-1),D={class:"col-8"},I={class:"form-floating mb-3"},U=o("label",{for:"floatingInput"},"Email address",-1),B={class:"form-floating"},S=o("label",{for:"floatingPassword"},"Password",-1),M=o("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1),N=o("p",{class:"mt-5 mb-3 text-muted"}," © 2023~∞ - 六角學院 ",-1);function q(n,s,d,e,a,r){const c=x("RouterLink");return b(),f(v,null,[T,h(c,{to:"/"},{default:g(()=>[V("回到前台")]),_:1}),o("div",y,[o("div",L,[P,o("div",D,[o("form",{class:"form-signin",onSubmit:s[2]||(s[2]=w((...t)=>e.login&&e.login(...t),["prevent"]))},[o("div",I,[i(o("input",{type:"email",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>e.user.username=t),id:"floatingInput",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[l,e.user.username]]),U]),o("div",B,[i(o("input",{type:"password",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>e.user.password=t),id:"floatingPassword",placeholder:"Password",required:""},null,512),[[l,e.user.password]]),S]),M],32)])]),N])],64)}const F=m(R,[["render",q]]);export{F as default};
